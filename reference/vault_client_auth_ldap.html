<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Vault LDAP Authentication Configuration
Vault LDAP Authentication Configuration"><title>Vault LDAP Authentication Configuration — vault_client_auth_ldap • vaultr</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Vault LDAP Authentication Configuration — vault_client_auth_ldap"><meta property="og:description" content="Vault LDAP Authentication Configuration
Vault LDAP Authentication Configuration"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">vaultr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.2.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/vaultr.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/packages.html">Using vaultr in packages</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/vimc/vaultr/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Vault LDAP Authentication Configuration</h1>
      <small class="dont-index">Source: <a href="https://github.com/vimc/vaultr/blob/HEAD/R/vault_client_auth_ldap.R" class="external-link"><code>R/vault_client_auth_ldap.R</code></a></small>
      <div class="d-none name"><code>vault_client_auth_ldap.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Vault LDAP Authentication Configuration</p>
<p>Vault LDAP Authentication Configuration</p>
    </div>


    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Interact with vault's LDAP authentication backend.  This backend
can be used to configure users based on their presence or group
membership in an LDAP server.  For more information, please see
the vault documentation
https://developer.hashicorp.com/vault/docs/auth/ldap</p>
    </div>
    <div class="section level2">
    <h2 id="super-class">Super class<a class="anchor" aria-label="anchor" href="#super-class"></a></h2>
    <p><code><a href="vault_client_object.html">vaultr::vault_client_object</a></code> -&gt; <code>vault_client_auth_ldap</code></p>
    </div>
    <div class="section level2">
    <h2 id="methods">Methods<a class="anchor" aria-label="anchor" href="#methods"></a></h2>
    
<div class="section">
<h3 id="public-methods">Public methods<a class="anchor" aria-label="anchor" href="#public-methods"></a></h3>

<ul><li><p><a href="#method-vault_client_auth_ldap-new"><code>vault_client_auth_ldap$new()</code></a></p></li>
<li><p><a href="#method-vault_client_auth_ldap-custom_mount"><code>vault_client_auth_ldap$custom_mount()</code></a></p></li>
<li><p><a href="#method-vault_client_auth_ldap-configure"><code>vault_client_auth_ldap$configure()</code></a></p></li>
<li><p><a href="#method-vault_client_auth_ldap-configuration"><code>vault_client_auth_ldap$configuration()</code></a></p></li>
<li><p><a href="#method-vault_client_auth_ldap-write"><code>vault_client_auth_ldap$write()</code></a></p></li>
<li><p><a href="#method-vault_client_auth_ldap-read"><code>vault_client_auth_ldap$read()</code></a></p></li>
<li><p><a href="#method-vault_client_auth_ldap-list"><code>vault_client_auth_ldap$list()</code></a></p></li>
<li><p><a href="#method-vault_client_auth_ldap-delete"><code>vault_client_auth_ldap$delete()</code></a></p></li>
<li><p><a href="#method-vault_client_auth_ldap-login"><code>vault_client_auth_ldap$login()</code></a></p></li>
</ul></div><p><details open><summary>Inherited methods</summary><ul><li><span class="pkg-link" data-pkg="vaultr" data-topic="vault_client_object" data-id="format"><a href="vault_client_object.html#method-format"><code>vaultr::vault_client_object$format()</code></a></span></li>
<li><span class="pkg-link" data-pkg="vaultr" data-topic="vault_client_object" data-id="help"><a href="vault_client_object.html#method-help"><code>vaultr::vault_client_object$help()</code></a></span></li>
</ul></details></p><hr><a id="method-vault_client_auth_ldap-new"></a><div class="section">
<h3 id="method-new-">Method <code>new()</code><a class="anchor" aria-label="anchor" href="#method-new-"></a></h3>
<p>Create a <code>vault_client_auth_ldap</code> object. Not typically
called by users.</p><div class="section">
<h4 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va"><a href="../reference/vault_client_auth_ldap.html">vault_client_auth_ldap</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="va">api_client</span>, <span class="va">mount</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h4>
<p></p><div class="arguments"><dl><dt><code>api_client</code></dt>
<dd><p>A <a href="vault_api_client.html">vault_api_client</a> object</p></dd>


<dt><code>mount</code></dt>
<dd><p>Mount point for the backend</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-vault_client_auth_ldap-custom_mount"></a><div class="section">
<h3 id="method-custom-mount-">Method <code>custom_mount()</code><a class="anchor" aria-label="anchor" href="#method-custom-mount-"></a></h3>
<p>Set up a <code>vault_client_auth_ldap</code> object at a
custom mount. For example, suppose you mounted the <code>ldap</code>
authentication backend at <code>/ldap-dev</code> you might use <code>ldap &lt;- vault$auth$ldap2$custom_mount("/ldap-dev")</code> - this pattern
is repeated for other secret and authentication backends.</p><div class="section">
<h4 id="usage-1">Usage<a class="anchor" aria-label="anchor" href="#usage-1"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">vault_client_auth_ldap</span><span class="op">$</span><span class="fu">custom_mount</span><span class="op">(</span><span class="va">mount</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-1">Arguments<a class="anchor" aria-label="anchor" href="#arguments-1"></a></h4>
<p></p><div class="arguments"><dl><dt><code>mount</code></dt>
<dd><p>String, indicating the path that the engine is mounted at.</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-vault_client_auth_ldap-configure"></a><div class="section">
<h3 id="method-configure-">Method <code>configure()</code><a class="anchor" aria-label="anchor" href="#method-configure-"></a></h3>
<p>Configures the connection parameters for
LDAP-based authentication. Note that there are many options
here and not all may be well supported. You are probably best
to configure your vault-LDAP interaction elsewhere, and this
method should be regarded as experimental and for testing
purposes only.</p>
<p>See the official docs
(https://developer.hashicorp.com/vault/api-docs/auth/ldap,
"Configure LDAP") for the list of accepted parameters here
via the dots argument; these are passed through directly
(with the exception of <code>url</code> which is the only required
parameter and for which concatenation of multiple values is
done for you.</p><div class="section">
<h4 id="usage-2">Usage<a class="anchor" aria-label="anchor" href="#usage-2"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">vault_client_auth_ldap</span><span class="op">$</span><span class="fu">configure</span><span class="op">(</span><span class="va">url</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-2">Arguments<a class="anchor" aria-label="anchor" href="#arguments-2"></a></h4>
<p></p><div class="arguments"><dl><dt><code>url</code></dt>
<dd><p>The LDAP server to connect to. Examples:
<code>ldap://ldap.myorg.com</code>,
<code>ldaps://ldap.myorg.com:636</code>. Multiple URLs can be specified
with a character vector, e.g. <code>c("ldap://ldap.myorg.com", , "ldap://ldap2.myorg.com")</code>; these will be tried in-order.</p></dd>


<dt><code>...</code></dt>
<dd><p>Additional arguments passed through with the body</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-vault_client_auth_ldap-configuration"></a><div class="section">
<h3 id="method-configuration-">Method <code>configuration()</code><a class="anchor" aria-label="anchor" href="#method-configuration-"></a></h3>
<p>Reads the connection parameters for LDAP-based
authentication.</p><div class="section">
<h4 id="usage-3">Usage<a class="anchor" aria-label="anchor" href="#usage-3"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">vault_client_auth_ldap</span><span class="op">$</span><span class="fu">configuration</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-vault_client_auth_ldap-write"></a><div class="section">
<h3 id="method-write-">Method <code><a href="https://rdrr.io/r/base/write.html" class="external-link">write()</a></code><a class="anchor" aria-label="anchor" href="#method-write-"></a></h3>
<p>Create or update a policy</p><div class="section">
<h4 id="usage-4">Usage<a class="anchor" aria-label="anchor" href="#usage-4"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">vault_client_auth_ldap</span><span class="op">$</span><span class="fu">write</span><span class="op">(</span><span class="va">name</span>, <span class="va">policies</span>, user <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-3">Arguments<a class="anchor" aria-label="anchor" href="#arguments-3"></a></h4>
<p></p><div class="arguments"><dl><dt><code>name</code></dt>
<dd><p>The name of the group (or user)</p></dd>


<dt><code>policies</code></dt>
<dd><p>A character vector of vault policies that this
group (or user) will have for vault access.</p></dd>


<dt><code>user</code></dt>
<dd><p>Scalar logical - if <code>TRUE</code>, then <code>name</code> is
interpreted as a <em>user</em> instead of a group.</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-vault_client_auth_ldap-read"></a><div class="section">
<h3 id="method-read-">Method <code>read()</code><a class="anchor" aria-label="anchor" href="#method-read-"></a></h3>
<p>Write a mapping between a LDAP group or user and
a set of vault policies.</p><div class="section">
<h4 id="usage-5">Usage<a class="anchor" aria-label="anchor" href="#usage-5"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">vault_client_auth_ldap</span><span class="op">$</span><span class="fu">read</span><span class="op">(</span><span class="va">name</span>, user <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-4">Arguments<a class="anchor" aria-label="anchor" href="#arguments-4"></a></h4>
<p></p><div class="arguments"><dl><dt><code>name</code></dt>
<dd><p>The name of the group (or user)</p></dd>


<dt><code>user</code></dt>
<dd><p>Scalar logical - if <code>TRUE</code>, then <code>name</code> is
interpreted as a <em>user</em> instead of a group.</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-vault_client_auth_ldap-list"></a><div class="section">
<h3 id="method-list-">Method <code><a href="https://rdrr.io/r/base/list.html" class="external-link">list()</a></code><a class="anchor" aria-label="anchor" href="#method-list-"></a></h3>
<p>List groups or users known to vault via LDAP</p><div class="section">
<h4 id="usage-6">Usage<a class="anchor" aria-label="anchor" href="#usage-6"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">vault_client_auth_ldap</span><span class="op">$</span><span class="fu">list</span><span class="op">(</span>user <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-5">Arguments<a class="anchor" aria-label="anchor" href="#arguments-5"></a></h4>
<p></p><div class="arguments"><dl><dt><code>user</code></dt>
<dd><p>Scalar logical - if <code>TRUE</code>, then list users
instead of groups.</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-vault_client_auth_ldap-delete"></a><div class="section">
<h3 id="method-delete-">Method <code>delete()</code><a class="anchor" aria-label="anchor" href="#method-delete-"></a></h3>
<p>Delete a group or user (just the mapping to vault,
no data on the LDAP server is modified).</p><div class="section">
<h4 id="usage-7">Usage<a class="anchor" aria-label="anchor" href="#usage-7"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">vault_client_auth_ldap</span><span class="op">$</span><span class="fu">delete</span><span class="op">(</span><span class="va">name</span>, user <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-6">Arguments<a class="anchor" aria-label="anchor" href="#arguments-6"></a></h4>
<p></p><div class="arguments"><dl><dt><code>name</code></dt>
<dd><p>The name of the group (or user)</p></dd>


<dt><code>user</code></dt>
<dd><p>Scalar logical - if <code>TRUE</code>, then <code>name</code> is
interpreted as a <em>user</em> instead of a group.</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-vault_client_auth_ldap-login"></a><div class="section">
<h3 id="method-login-">Method <code>login()</code><a class="anchor" aria-label="anchor" href="#method-login-"></a></h3>
<p>Log into the vault using LDAP authentication.
Normally you would not call this directly but instead use
<code>$login</code> with <code>method = "ldap"</code> and proving the <code>username</code>
and optionally the <code>password</code> argument.
argument.  This function returns a vault token but does not
set it as the client token.</p><div class="section">
<h4 id="usage-8">Usage<a class="anchor" aria-label="anchor" href="#usage-8"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">vault_client_auth_ldap</span><span class="op">$</span><span class="fu">login</span><span class="op">(</span><span class="va">username</span>, <span class="va">password</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-7">Arguments<a class="anchor" aria-label="anchor" href="#arguments-7"></a></h4>
<p></p><div class="arguments"><dl><dt><code>username</code></dt>
<dd><p>Username to authenticate with</p></dd>


<dt><code>password</code></dt>
<dd><p>Password to authenticate with. If omitted or
<code>NULL</code> and the session is interactive, the password will be
prompted for.</p></dd>


</dl><p></p></div>
</div>

</div>

    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">server</span> <span class="op">&lt;-</span> <span class="fu">vaultr</span><span class="fu">::</span><span class="fu"><a href="vault_test_server.html">vault_test_server</a></span><span class="op">(</span>if_disabled <span class="op">=</span> <span class="va">message</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ...waiting for Vault to start</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ...waiting for Vault to start</span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null</a></span><span class="op">(</span><span class="va">server</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">root</span> <span class="op">&lt;-</span> <span class="va">server</span><span class="op">$</span><span class="fu">client</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># The ldap authentication backend is not enabled by default,</span></span></span>
<span class="r-in"><span>  <span class="co"># so we need to enable it first</span></span></span>
<span class="r-in"><span>  <span class="va">root</span><span class="op">$</span><span class="va">auth</span><span class="op">$</span><span class="fu">enable</span><span class="op">(</span><span class="st">"ldap"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># Considerable configuration is required to make this work. Here</span></span></span>
<span class="r-in"><span>  <span class="co"># we use the public server available at</span></span></span>
<span class="r-in"><span>  <span class="co"># https://www.forumsys.com/2022/05/10/online-ldap-test-server/</span></span></span>
<span class="r-in"><span>  <span class="va">root</span><span class="op">$</span><span class="va">auth</span><span class="op">$</span><span class="va">ldap</span><span class="op">$</span><span class="fu">configure</span><span class="op">(</span></span></span>
<span class="r-in"><span>    url <span class="op">=</span> <span class="st">"ldap://ldap.forumsys.com"</span>,</span></span>
<span class="r-in"><span>    binddn <span class="op">=</span> <span class="st">"cn=read-only-admin,dc=example,dc=com"</span>,</span></span>
<span class="r-in"><span>    bindpass <span class="op">=</span> <span class="st">"password"</span>,</span></span>
<span class="r-in"><span>    userdn <span class="op">=</span> <span class="st">"dc=example,dc=com"</span>,</span></span>
<span class="r-in"><span>    userattr <span class="op">=</span> <span class="st">"uid"</span>,</span></span>
<span class="r-in"><span>    groupdn <span class="op">=</span> <span class="st">"dc=example,dc=com"</span>,</span></span>
<span class="r-in"><span>    groupattr <span class="op">=</span> <span class="st">"ou"</span>,</span></span>
<span class="r-in"><span>    groupfilter <span class="op">=</span> <span class="st">"(uniqueMember={{.UserDN}})"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># You can associate groups of users with policies:</span></span></span>
<span class="r-in"><span>  <span class="va">root</span><span class="op">$</span><span class="va">auth</span><span class="op">$</span><span class="va">ldap</span><span class="op">$</span><span class="fu">write</span><span class="op">(</span><span class="st">"scientists"</span>, <span class="st">"default"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># Create a new client and login with this user:</span></span></span>
<span class="r-in"><span>  <span class="va">newton</span> <span class="op">&lt;-</span> <span class="fu">vaultr</span><span class="fu">::</span><span class="fu"><a href="vault_client.html">vault_client</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    addr <span class="op">=</span> <span class="va">server</span><span class="op">$</span><span class="va">addr</span>,</span></span>
<span class="r-in"><span>    login <span class="op">=</span> <span class="st">"ldap"</span>,</span></span>
<span class="r-in"><span>    username <span class="op">=</span> <span class="st">"newton"</span>,</span></span>
<span class="r-in"><span>    password <span class="op">=</span> <span class="st">"password"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># (it is not recommended to login with the password like this as</span></span></span>
<span class="r-in"><span>  <span class="co"># it will end up in the command history, but in interactive use</span></span></span>
<span class="r-in"><span>  <span class="co"># you will be prompted securely for password)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># Isaac Newton has now logged in and has only "default" policies</span></span></span>
<span class="r-in"><span>  <span class="va">newton</span><span class="op">$</span><span class="va">auth</span><span class="op">$</span><span class="va">token</span><span class="op">$</span><span class="fu">lookup_self</span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">policies</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># (wheras our original root user has the "root" policy)</span></span></span>
<span class="r-in"><span>  <span class="va">root</span><span class="op">$</span><span class="va">auth</span><span class="op">$</span><span class="va">token</span><span class="op">$</span><span class="fu">lookup_self</span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">policies</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ok, duration: 2764800 s (~32d)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "root"</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Rich FitzJohn, Robert Ashton, Wes Hinsley.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

